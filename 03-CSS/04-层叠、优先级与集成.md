# 层叠、优先级与继承

> <https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance>

## 冲突规则

CSS 代表层叠样式表（Cascading Style Sheets），理解第一个词层叠（cascade）很重要——层叠的表现方式是理解 CSS 的关键。

在某些时候，在做一个项目过程中你会发现一些应该产生效果的样式没有生效。通常的原因是你创建了两个应用于同一个元素的规则。与层叠密切相关的概念是优先级（specificity），决定在发生冲突的时候应该使用哪条规则。设计元素样式的规则可能不是期望的规则，因此需要了解这些机制是如何工作的。

这里也有继承的概念，也就是在默认情况下，一些 css 属性继承当前元素的父元素上设置的值，有些则不继承。这也可能导致一些和期望不同的结果。

### 举例

如果一个页面引用了多个css，最后引用的规则生效。 有些规则不生效的原因是选择器没有选对。可以F12定位标签使用的是什么选择器。

有个input标签的 height 在某个引用的css文件中设置为10px， 但你使用 `input{ height:20px}` 标签选择器修改并没有生效。 根据定位查看css发现 生效的是 `input[tpye="text"]{ height:20px }` ， 因为后者优先级更高，修改对应的选择器就可以了，同时也可以使用类选择器，类选择器优先级更高。

## 层叠

当应用两条同级别的规则到一个元素的时候，**写在后面的就是实际使用的规则**。

## 优先级

当多个规则有不同选择器对应相同的元素的时候需要使用哪个规则。

- 一个元素选择器不是很具体，则会选择页面上该类型的所有元素，所以它的优先级就会低一些。
- 一个类选择器稍微具体点，则会选择该页面中有特定 class 属性值的元素，所以它的优先级就要高一点。

举例：
input 标签选择器 和 input[type="text"] ,就会优先使用具体的选择器
类选择器的优先级更高

## 继承

### 控制继承

CSS 为控制继承提供了五个特殊的通用属性值。每个 CSS 属性都接收这些值。

- **`inherit`**
设置该属性会使子元素属性和父元素相同。实际上，就是“开启继承”。

- **`initial`**
将应用于选定元素的属性值设置为该属性的初始值。

- **`revert`** (en-US)
将应用于选定元素的属性值重置为浏览器的默认样式，而不是应用于该属性的默认值。在许多情况下，此值的作用类似于 unset。

- **`revert-layer`** (en-US)
将应用于选定元素的属性值重置为在上一个层叠层中建立的值。

- **`unset`**
将属性重置为自然值，也就是如果属性是自然继承那么就是 inherit，否则和 initial 一样
